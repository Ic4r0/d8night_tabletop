<app-modal [container]="false" [loading]="loadingModal" (closing)="reset()" #modal>
  <div class="uk-modal-body" uk-overflow-auto>
    <h3 class="uk-modal-title">Select your companions</h3>
    <ul *ngIf="companionsIdxList.length > 0; else noCompanions"
      class="uk-list uk-list-divider uk-margin-small-top">
        <li *ngFor="let singleIdx of companionsIdxList" class="uk-flex uk-flex-middle uk-flex-between">
          <div class="uk-flex uk-flex-middle">
            <b class="uk-margin-small-right uk-text-truncate">
              {{companionsValue[singleIdx].name}}
            </b>
            <i class="uk-margin-small-right uk-visible@s">
              Lvl. {{companionsValue[singleIdx].level}}
            </i>
            <i class="uk-margin-small-right">
              Hp {{companionsValue[singleIdx].hp}}
            </i>
          </div>
          <span class="uk-switch uk-preserve-width" (click)="toggleCompanion(singleIdx)">
            <input type="checkbox" [checked]="selectedCompanions.includes(singleIdx)">
            <div class="uk-switch-slider"></div>
          </span>
        </li>
    </ul>
    <ng-template #noCompanions>
      <span class="uk-text-italic uk-margin-small-top">
        There are no selectable sheets
      </span>
    </ng-template>
    <div *ngIf="selectedCompanions.length > 0"
      class="uk-margin-top uk-grid-small uk-child-width-1-2@s" uk-grid>
      <div>
        <button
          class="uk-align-center uk-button uk-button-default uk-border-rounded uk-modal-close uk-width-1-1"
          type="button">
          Cancel
        </button>
      </div>
      <div>
        <button
          class="uk-align-center uk-button uk-button-primary uk-border-rounded uk-width-1-1"
          type="button"
          (click)="submitCompanions()">
          Confirm
        </button>
      </div>
    </div>
  </div>
</app-modal>
